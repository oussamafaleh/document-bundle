services:

    #TOKEN
    App\Manager\AuthenticationManager:
        arguments: ['@doctrine.orm.entity_manager','@security.helper']
   #VIEW          
    listener.view:
        class: App\EventListener\ViewListener
        arguments: ['@translator.default', '@manager.logger']
        tags:
            - { name: kernel.event_listener, event: kernel.view, method: onKernelView }
        #VIEW
    listener.action:
        class: App\EventListener\ActionListener
        arguments: [ '@manager.logger' ]
        tags:
            - { name: kernel.event_listener, event: kernel.response, method: onKernelResponse }

    listener.validator:
        class: App\EventListener\ParameterValidatorListener
        arguments: ['@annotation_reader', '@validator', '@doctrine' ]
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelRequest }

    listener.twigvar:
        class: App\EventListener\TwigEventSubscriber
        arguments: ['@twig', '@App\Manager\DashboardManager','@form.factory','@request_stack' ]
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onControllerEvent }

    manager.logger:
        class: App\Manager\LoggerManager
        arguments: ['@doctrine.orm.entity_manager','@request_stack', 'true' ]
        public: false



    App\Manager\FileManager:
        public: true
        class: App\Manager\FileManager
        arguments: [ '@doctrine.orm.entity_manager', '%uploads_directory%' , '@App\Manager\FolderManager']
        
    App\Manager\FolderManager:
        public: true
        class: App\Manager\FolderManager
        arguments: [ '@doctrine.orm.entity_manager' ]

    App\Manager\DashboardManager:
        public: true
        class: App\Manager\DashboardManager
        arguments: [ '@doctrine.orm.entity_manager' ]


    App\Manager\FileChunksManager:
        public: true
        class: App\Manager\FileChunksManager
        arguments: [ '@doctrine.orm.entity_manager','@doctrine_mongodb.odm.document_manager' ] #
